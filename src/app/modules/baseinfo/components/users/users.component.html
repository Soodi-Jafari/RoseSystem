<app-loading *ngIf="isLoading"></app-loading>
<div>
  <h6>Users</h6>
 </div>
 
<div class="content">  
  <kendo-grid
      [data]="gridView"
      [pageSize]="state.take"
      [skip]="state.skip"
      [sort]="state.sort"
      [filter]="state.filter"
      [sortable]="true"
      [filterable]="true"  
      [kendoGridSelectBy]="'id'"
      [selectedKeys]="selectionRows" 
      [pageable]="{
        buttonCount: 10,
        info: true,
        type: 'type',
        pageSizes: [20,50,100],
        previousNext: true
      }"
      [scrollable]="'none'"
      [selectable]="{
        checkboxOnly: false,
        mode : 'single'
       }"     
      (dataStateChange)="dataStateChange($event)"
    >
    <ng-template kendoGridToolbarTemplate position="top">
        <button *ngxPermissionsOnly="['newUser']"  (click)="new()" class="k-button grid-Button">Add User</button>
        <button *ngxPermissionsOnly="['editUser']"  (click)="edit()" class="k-button grid-Button">Edit User</button>
        <button *ngxPermissionsOnly="['deleteUser']" (click)="delete()" class="k-button grid-Button">Delete User</button>

      </ng-template>
    <kendo-grid-checkbox-column headerClass="grid-header" [width]="30"></kendo-grid-checkbox-column>
    <kendo-grid-column headerClass="grid-header" field="personelCode" title="Personel Code"></kendo-grid-column>
    <kendo-grid-column headerClass="grid-header" field="firstName" title="First Name"></kendo-grid-column>
    <kendo-grid-column headerClass="grid-header" field="lastName" title="Last Name"></kendo-grid-column>
    <kendo-grid-column headerClass="grid-header" field="username" title="Username"></kendo-grid-column>
    <kendo-grid-column headerClass="grid-header" field="companyEmail" title="Company Email"></kendo-grid-column>
    <kendo-grid-column headerClass="grid-header" field="startJob" title="Start Job">
      <ng-template kendoGridCellTemplate let-dataItem>       
        <span>
                {{dataItem.startJob | date}}
        </span>
    </ng-template>
    </kendo-grid-column>
   
  </kendo-grid>
</div>